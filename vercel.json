{
  "version": 2,
  "cleanUrls": true,
  "trailingSlash": true,
  "builds": [
    { "src": "**/*.html",   "use": "@vercel/static" },
    { "src": "css/**",      "use": "@vercel/static" },
    { "src": "js/**",       "use": "@vercel/static" },
    { "src": "images/**",   "use": "@vercel/static" },
    { "src": "sitemap.xml", "use": "@vercel/static" },
    { "src": "robots.txt",  "use": "@vercel/static" }
  ],
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        { "key": "X-Robots-Tag",                "value": "index, follow" },
        { "key": "X-Content-Type-Options",       "value": "nosniff" },
        { "key": "X-Frame-Options",              "value": "SAMEORIGIN" },
        { "key": "Referrer-Policy",              "value": "strict-origin-when-cross-origin" },
        { "key": "Permissions-Policy",           "value": "camera=(), microphone=(), geolocation=()" },
        { "key": "Strict-Transport-Security",    "value": "max-age=63072000; includeSubDomains; preload" },
        {
          "key": "Content-Security-Policy",
          "value": "default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.popcash.net https://cdn2.popcash.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: blob:; connect-src 'self' https://formspree.io; frame-ancestors 'none';"
        }
      ]
    },
    {
      "source": "/sitemap.xml",
      "headers": [
        { "key": "Content-Type", "value": "application/xml" }
      ]
    },
    {
      "source": "/robots.txt",
      "headers": [
        { "key": "Content-Type", "value": "text/plain" }
      ]
    }
  ],
  "rewrites": [
    { "source": "/tools/pdf-merger",       "destination": "/tools/pdf-merger/index.html" },
    { "source": "/tools/image-compressor", "destination": "/tools/image-compressor/index.html" },
    { "source": "/tools/qr-generator",     "destination": "/tools/qr-generator/index.html" },
    { "source": "/tools/text-summarizer",  "destination": "/tools/text-summarizer/index.html" },
    { "source": "/tools/resume-builder",   "destination": "/tools/resume-builder/index.html" },
    { "source": "/tools/color-palette",    "destination": "/tools/color-palette/index.html" },
    { "source": "/blog",                   "destination": "/blog/index.html" },
    { "source": "/contact",                "destination": "/contact/index.html" },
    { "source": "/privacy-policy",         "destination": "/privacy-policy/index.html" },
    { "source": "/terms-of-service",       "destination": "/terms-of-service/index.html" }
  ]
}